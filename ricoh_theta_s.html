<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="generator" content="Asciidoctor 0.1.4">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unofficial Guide to Hacking RICOH THETA S API</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }
audio, canvas, video { display: inline-block; }
audio:not([controls]) { display: none; height: 0; }
[hidden] { display: none; }
html { background: #fff; color: #000; font-family: sans-serif; -ms-text-size-adjust: 100%; -webkit-text-size-adjust: 100%; }
body { margin: 0; }
a:focus { outline: thin dotted; }
a:active, a:hover { outline: 0; }
h1 { font-size: 2em; margin: 0.67em 0; }
abbr[title] { border-bottom: 1px dotted; }
b, strong { font-weight: bold; }
dfn { font-style: italic; }
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }
mark { background: #ff0; color: #000; }
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }
pre { white-space: pre-wrap; }
q { quotes: "\201C" "\201D" "\2018" "\2019"; }
small { font-size: 80%; }
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }
img { border: 0; }
svg:not(:root) { overflow: hidden; }
figure { margin: 0; }
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }
legend { border: 0; padding: 0; }
button, input, select, textarea { font-family: inherit; font-size: 100%; margin: 0; }
button, input { line-height: normal; }
button, select { text-transform: none; }
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; cursor: pointer; }
button[disabled], html input[disabled] { cursor: default; }
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; padding: 0; }
input[type="search"] { -webkit-appearance: textfield; -moz-box-sizing: content-box; -webkit-box-sizing: content-box; box-sizing: content-box; }
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }
textarea { overflow: auto; vertical-align: top; }
table { border-collapse: collapse; border-spacing: 0; }
*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }
html, body { font-size: 100%; }
body { background: white; color: #222222; padding: 0; margin: 0; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }
a:hover { cursor: pointer; }
a:focus { outline: none; }
img, object, embed { max-width: 100%; height: auto; }
object, embed { height: 100%; }
img { -ms-interpolation-mode: bicubic; }
#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }
.left { float: left !important; }
.right { float: right !important; }
.text-left { text-align: left !important; }
.text-right { text-align: right !important; }
.text-center { text-align: center !important; }
.text-justify { text-align: justify !important; }
.hide { display: none; }
.antialiased, body { -webkit-font-smoothing: antialiased; }
img { display: inline-block; vertical-align: middle; }
textarea { height: auto; min-height: 50px; }
select { width: 100%; }
p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }
.subheader, #content #toctitle, .admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title, .tableblock > caption { line-height: 1.4; color: #7a2518; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }
a { color: #005498; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #00467f; }
a img { border: none; }
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: Georgia, "URW Bookman L", Helvetica, Arial, sans-serif; font-weight: normal; font-style: normal; color: #ba3925; text-rendering: optimizeLegibility; margin-top: 1em; margin-bottom: 0.5em; line-height: 1.2125em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #e99b8f; line-height: 0; }
h1 { font-size: 2.125em; }
h2 { font-size: 1.6875em; }
h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }
h4 { font-size: 1.125em; }
h5 { font-size: 1.125em; }
h6 { font-size: 1em; }
hr { border: solid #dddddd; border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }
em, i { font-style: italic; line-height: inherit; }
strong, b { font-weight: bold; line-height: inherit; }
small { font-size: 60%; line-height: inherit; }
code { font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; color: #6d180b; }
ul, ol, dl { font-size: 1em; line-height: 1.6; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }
ul, ol { margin-left: 1.5em; }
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }
abbr, acronym { text-transform: uppercase; font-size: 90%; color: #222222; border-bottom: 1px dotted #dddddd; cursor: help; }
abbr { text-transform: none; }
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: inherit; color: #555555; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #555555; }
blockquote, blockquote p { line-height: 1.6; color: #6f6f6f; }
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }
.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }
@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.4; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
.print-only { display: none !important; }
@media print { * { background: transparent !important; color: #000 !important; box-shadow: none !important; text-shadow: none !important; }
  a, a:visited { text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  @page { margin: 0.5cm; }
  p, h2, h3, #toctitle, .sidebarblock > .content > .title { orphans: 3; widows: 3; }
  h2, h3, #toctitle, .sidebarblock > .content > .title { page-break-after: avoid; }
  .hide-on-print { display: none !important; }
  .print-only { display: block !important; }
  .hide-for-print { display: none !important; }
  .show-for-print { display: inherit !important; } }
table { background: white; margin-bottom: 1.25em; border: solid 1px #dddddd; }
table thead, table tfoot { background: whitesmoke; font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: #222222; text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: #222222; }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: #f9f9f9; }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.6; }
.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }
*:not(pre) > code { font-size: 0.9375em; padding: 1px 3px 0; white-space: nowrap; background-color: #f2f2f2; border: 1px solid #cccccc; -webkit-border-radius: 4px; border-radius: 4px; text-shadow: none; }
pre, pre > code { line-height: 1.4; color: inherit; font-family: Consolas, "Liberation Mono", Courier, monospace; font-weight: normal; }
kbd.keyseq { color: #555555; }
kbd:not(.keyseq) { display: inline-block; color: #222222; font-size: 0.75em; line-height: 1.4; background-color: #F7F7F7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 2px white inset; margin: -0.15em 0.15em 0 0.15em; padding: 0.2em 0.6em 0.2em 0.5em; vertical-align: middle; white-space: nowrap; }
kbd kbd:first-child { margin-left: 0; }
kbd kbd:last-child { margin-right: 0; }
.menuseq, .menu { color: #090909; }
p a > code:hover { color: #561309; }
#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }
#header { margin-bottom: 2.5em; }
#header > h1 { color: black; font-weight: normal; border-bottom: 1px solid #dddddd; margin-bottom: -28px; padding-bottom: 32px; }
#header span { color: #6f6f6f; }
#header #revnumber { text-transform: capitalize; }
#header br { display: none; }
#header br + span { padding-left: 3px; }
#header br + span:before { content: "\2013 \0020"; }
#header br + span.author { padding-left: 0; }
#header br + span.author:before { content: ", "; }
#toc { border-bottom: 3px double #ebebeb; padding-bottom: 1.25em; }
#toc > ul { margin-left: 0.25em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
#toc ul { list-style-type: none; }
#toctitle { color: #7a2518; }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; }
  #toc.toc2 { position: fixed; width: 20em; left: 0; top: 0; border-right: 1px solid #ebebeb; border-bottom: 0; z-index: 1000; padding: 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; }
  #toc.toc2 > ul { font-size: .95em; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1.25em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; }
  body.toc2.toc-right #toc.toc2 { border-right: 0; border-left: 1px solid #ebebeb; left: auto; right: 0; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; border-width: 0; -webkit-border-radius: 4px; border-radius: 4px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }
#content #toc a { text-decoration: none; }
#content #toctitle { font-weight: bold; font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif; font-size: 1em; padding-left: 0.125em; }
#footer { max-width: 100%; background-color: #222222; padding: 1.25em; }
#footer-text { color: #dddddd; line-height: 1.44; }
.sect1 { padding-bottom: 1.25em; }
.sect1 + .sect1 { border-top: 3px double #ebebeb; }
#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; width: 1em; margin-left: -1em; display: block; text-decoration: none; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: '\00A7'; font-size: .85em; vertical-align: text-top; display: block; margin-top: 0.05em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #ba3925; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #a53221; }
.imageblock, .literalblock, .listingblock, .verseblock, .videoblock { margin-bottom: 1.25em; }
.admonitionblock td.content > .title, .exampleblock > .title, .imageblock > .title, .videoblock > .title, .listingblock > .title, .literalblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, .sidebarblock > .title, .tableblock > .title, .verseblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-align: left; font-weight: bold; }
.tableblock > caption { text-align: left; font-weight: bold; white-space: nowrap; overflow: visible; max-width: 0; }
table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }
.admonitionblock > table { border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid #dddddd; color: #6f6f6f; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }
.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #e6e6e6; margin-bottom: 1.25em; padding: 1.25em; background: white; -webkit-border-radius: 4px; border-radius: 4px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6, .exampleblock > .content p { color: #333333; }
.exampleblock > .content h1, .exampleblock > .content h2, .exampleblock > .content h3, .exampleblock > .content #toctitle, .sidebarblock.exampleblock > .content > .title, .exampleblock > .content h4, .exampleblock > .content h5, .exampleblock > .content h6 { line-height: 1; margin-bottom: 0.625em; }
.exampleblock > .content h1.subheader, .exampleblock > .content h2.subheader, .exampleblock > .content h3.subheader, .exampleblock > .content .subheader#toctitle, .sidebarblock.exampleblock > .content > .subheader.title, .exampleblock > .content h4.subheader, .exampleblock > .content h5.subheader, .exampleblock > .content h6.subheader { line-height: 1.4; }
.exampleblock.result > .content { -webkit-box-shadow: 0 1px 8px #d9d9d9; box-shadow: 0 1px 8px #d9d9d9; }
.sidebarblock { border-style: solid; border-width: 1px; border-color: #d9d9d9; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f2; -webkit-border-radius: 4px; border-radius: 4px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6, .sidebarblock p { color: #333333; }
.sidebarblock h1, .sidebarblock h2, .sidebarblock h3, .sidebarblock #toctitle, .sidebarblock > .content > .title, .sidebarblock h4, .sidebarblock h5, .sidebarblock h6 { line-height: 1; margin-bottom: 0.625em; }
.sidebarblock h1.subheader, .sidebarblock h2.subheader, .sidebarblock h3.subheader, .sidebarblock .subheader#toctitle, .sidebarblock > .content > .subheader.title, .sidebarblock h4.subheader, .sidebarblock h5.subheader, .sidebarblock h6.subheader { line-height: 1.4; }
.sidebarblock > .content > .title { color: #7a2518; margin-top: 0; line-height: 1.6; }
.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }
.literalblock > .content pre, .listingblock > .content pre { background: none; border-width: 1px 0; border-style: dotted; border-color: #bfbfbf; -webkit-border-radius: 4px; border-radius: 4px; padding: 0.75em 0.75em 0.5em 0.75em; word-wrap: break-word; }
.literalblock > .content pre.nowrap, .listingblock > .content pre.nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
.literalblock > .content pre > code, .listingblock > .content pre > code { display: block; }
@media only screen { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.8em; } }
@media only screen and (min-width: 768px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 0.9em; } }
@media only screen and (min-width: 1280px) { .literalblock > .content pre, .listingblock > .content pre { font-size: 1em; } }
.listingblock > .content { position: relative; }
.listingblock:hover code[class*=" language-"]:before { text-transform: uppercase; font-size: 0.9em; color: #999; position: absolute; top: 0.375em; right: 0.375em; }
.listingblock:hover code.asciidoc:before { content: "asciidoc"; }
.listingblock:hover code.clojure:before { content: "clojure"; }
.listingblock:hover code.css:before { content: "css"; }
.listingblock:hover code.groovy:before { content: "groovy"; }
.listingblock:hover code.html:before { content: "html"; }
.listingblock:hover code.java:before { content: "java"; }
.listingblock:hover code.javascript:before { content: "javascript"; }
.listingblock:hover code.python:before { content: "python"; }
.listingblock:hover code.ruby:before { content: "ruby"; }
.listingblock:hover code.scss:before { content: "scss"; }
.listingblock:hover code.xml:before { content: "xml"; }
.listingblock:hover code.yaml:before { content: "yaml"; }
.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }
.listingblock.terminal pre .command:not([data-prompt]):before { content: '$'; }
table.pyhltable { border: 0; margin-bottom: 0; }
table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; }
table.pyhltable td.code { padding-left: .75em; padding-right: 0; }
.highlight.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid #dddddd; }
.highlight.pygments .lineno { display: inline-block; margin-right: .25em; }
table.pyhltable .linenodiv { background-color: transparent !important; padding-right: 0 !important; }
.quoteblock { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
.quoteblock blockquote { margin: 0 0 1.25em 0; padding: 0 0 0.5625em 0; border: 0; }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: -.25em; padding-bottom: 0.5625em; font-size: inherit; color: #555555; }
.quoteblock .attribution br { display: none; }
.quoteblock .attribution cite { display: block; margin-bottom: 0.625em; }
table thead th, table tfoot th { font-weight: bold; }
table.tableblock.grid-all { border-collapse: separate; border-spacing: 1px; -webkit-border-radius: 4px; border-radius: 4px; border-top: 1px solid #dddddd; border-bottom: 1px solid #dddddd; }
table.tableblock.frame-topbot, table.tableblock.frame-none { border-left: 0; border-right: 0; }
table.tableblock.frame-sides, table.tableblock.frame-none { border-top: 0; border-bottom: 0; }
table.tableblock td .paragraph:last-child p, table.tableblock td > p:last-child { margin-bottom: 0; }
th.tableblock.halign-left, td.tableblock.halign-left { text-align: left; }
th.tableblock.halign-right, td.tableblock.halign-right { text-align: right; }
th.tableblock.halign-center, td.tableblock.halign-center { text-align: center; }
th.tableblock.valign-top, td.tableblock.valign-top { vertical-align: top; }
th.tableblock.valign-bottom, td.tableblock.valign-bottom { vertical-align: bottom; }
th.tableblock.valign-middle, td.tableblock.valign-middle { vertical-align: middle; }
p.tableblock.header { color: #222222; font-weight: bold; }
td > div.verse { white-space: pre; }
ol { margin-left: 1.75em; }
ul li ol { margin-left: 1.5em; }
dl dd { margin-left: 1.125em; }
dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }
ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }
ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }
ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }
ul.checklist li > p:first-child > i[class^="icon-check"]:first-child, ul.checklist li > p:first-child > input[type="checkbox"]:first-child { margin-right: 0.25em; }
ul.checklist li > p:first-child > input[type="checkbox"]:first-child { position: relative; top: 1px; }
ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }
.unstyled dl dt { font-weight: normal; font-style: normal; }
ol.arabic { list-style-type: decimal; }
ol.decimal { list-style-type: decimal-leading-zero; }
ol.loweralpha { list-style-type: lower-alpha; }
ol.upperalpha { list-style-type: upper-alpha; }
ol.lowerroman { list-style-type: lower-roman; }
ol.upperroman { list-style-type: upper-roman; }
ol.lowergreek { list-style-type: lower-greek; }
.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }
td.hdlist1 { padding-right: .8em; font-weight: bold; }
td.hdlist1, td.hdlist2 { vertical-align: top; }
.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }
.colist > table tr > td:first-of-type { padding: 0 .8em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }
.qanda > ol > li > p > em:only-child { color: #00467f; }
.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }
.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }
.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }
a.image { text-decoration: none; }
span.footnote, span.footnoteref { vertical-align: super; font-size: 0.875em; }
span.footnote a, span.footnoteref a { text-decoration: none; }
#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -.25em 0 .75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em; line-height: 1.3; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.2em; margin-bottom: .2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }
#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }
.gist .file-data > table { border: none; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }
div.unbreakable { page-break-inside: avoid; }
.big { font-size: larger; }
.small { font-size: smaller; }
.underline { text-decoration: underline; }
.overline { text-decoration: overline; }
.line-through { text-decoration: line-through; }
.aqua { color: #00bfbf; }
.aqua-background { background-color: #00fafa; }
.black { color: black; }
.black-background { background-color: black; }
.blue { color: #0000bf; }
.blue-background { background-color: #0000fa; }
.fuchsia { color: #bf00bf; }
.fuchsia-background { background-color: #fa00fa; }
.gray { color: #606060; }
.gray-background { background-color: #7d7d7d; }
.green { color: #006000; }
.green-background { background-color: #007d00; }
.lime { color: #00bf00; }
.lime-background { background-color: #00fa00; }
.maroon { color: #600000; }
.maroon-background { background-color: #7d0000; }
.navy { color: #000060; }
.navy-background { background-color: #00007d; }
.olive { color: #606000; }
.olive-background { background-color: #7d7d00; }
.purple { color: #600060; }
.purple-background { background-color: #7d007d; }
.red { color: #bf0000; }
.red-background { background-color: #fa0000; }
.silver { color: #909090; }
.silver-background { background-color: #bcbcbc; }
.teal { color: #006060; }
.teal-background { background-color: #007d7d; }
.white { color: #bfbfbf; }
.white-background { background-color: #fafafa; }
.yellow { color: #bfbf00; }
.yellow-background { background-color: #fafa00; }
span.icon > [class^="icon-"], span.icon > [class*=" icon-"] { cursor: default; }
.admonitionblock td.icon [class^="icon-"]:before { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #005498; color: #003f72; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }
.conum { display: inline-block; color: white !important; background-color: #222222; -webkit-border-radius: 100px; border-radius: 100px; text-align: center; width: 20px; height: 20px; font-size: 12px; font-weight: bold; line-height: 20px; font-family: Arial, sans-serif; font-style: normal; position: relative; top: -2px; letter-spacing: -1px; }
.conum * { color: white !important; }
.conum + b { display: none; }
.conum:after { content: attr(data-value); }
.conum:not([data-value]):empty { display: none; }
.literalblock > .content > pre, .listingblock > .content > pre { -webkit-border-radius: 0; border-radius: 0; }

</style>
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
<h1>Unofficial Guide to Hacking RICOH THETA S API</h1>
<span id="author" class="author">Craig Oda</span><br>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_unofficial_and_unauthorized">Unofficial and Unauthorized</a></li>
<li><a href="#_connect_computer_to_theta_s">Connect Computer to THETA S</a></li>
<li><a href="#_test_commands_from_computer_to_camera">Test Commands From Computer to Camera</a></li>
<li><a href="#_taking_pictures">Taking Pictures</a></li>
<li><a href="#_testing_workflow_using_a_http_browser_tool">Testing Workflow Using a HTTP Browser Tool</a></li>
<li><a href="#_testing_theta_s_api_with_python">Testing THETA S API with Python</a></li>
<li><a href="#_python_desktop_application_example">Python Desktop Application Example</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_full_program">Full Program</a></li>
<li><a href="#_code_walkthrough">Code Walkthrough</a></li>
</ul>
</li>
<li><a href="#_transferring_files_from_the_theta">Transferring Files from the THETA</a></li>
<li><a href="#_live_streaming">Live Streaming</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_for_usb">For USB</a></li>
<li><a href="#_for_hdmi">For HDMI</a></li>
<li><a href="#_api_testing">API Testing</a></li>
</ul>
</li>
<li><a href="#_video_conversion_from_dual_fish_eye_to_equirectangular">Video Conversion From Dual Fish-Eye to Equirectangular</a></li>
<li><a href="#_google_maps_street_view_constellations_photos">Google Maps, Street View, Constellations, Photos</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_maps">Maps</a></li>
<li><a href="#_constellations">Constellations</a></li>
<li><a href="#_google_and_google_photos">Google+ and Google Photos</a></li>
</ul>
</li>
<li><a href="#_resources">Resources</a></li>
<li>
<ul class="sectlevel2">
<li><a href="#_api_documentation">API Documentation</a></li>
<li><a href="#_phone_applications">Phone Applications</a></li>
<li><a href="#_youtube_360_degree_videos">YouTube 360 degree Videos</a></li>
</ul>
</li>
<li><a href="#_before_you_hack">Before You Hack</a></li>
<li><a href="#_thetapylib">thetapylib</a></li>
<li><a href="#_next_steps">Next Steps</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="img/desktop/dev_app.png" alt="dev app">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_unofficial_and_unauthorized">Unofficial and Unauthorized</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This is an unofficial, community-generated guide to using the RICOH THETA S API.
This is not authorized by RICOH and is based on publicly available information.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_connect_computer_to_theta_s">Connect Computer to THETA S</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Turn on the THETA S.  The WiFi icon will flash blue.</p>
</div>
<div class="paragraph">
<p>On your computer connect to the THETA access point that the camera
created.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/wifi_access.png" alt="wifi access">
</div>
</div>
<div class="paragraph">
<p>On Windows 10, the network can be changed from the connection
icon in the lower right-hand corner.  If you are using WiFi for
Internet access, you will lose Internet access.  The camera
is at IP <code>192.168.1.1</code>.  This subnet may interfere with your
network access even if you have multiple network adapters.  If this happens
and you can&#8217;t reach the THETA, disable all other network adapters.</p>
</div>
<div class="paragraph">
<p>On Windows 10, running <code>ipconfig</code> will show your configured network
adapters.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/ipconfig_network_adapters.png" alt="ipconfig network adapters">
</div>
</div>
<div class="paragraph">
<p>Your Wireless LAN must be in the subnet <code>192.168.1.x</code>.  The Default Gateway
must be <code>192.168.1.1</code>.  The gateway is the THETA S.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_commands_from_computer_to_camera">Test Commands From Computer to Camera</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use any tool to test <code>POST</code> and <code>GET</code> commands to the camera.
Many people use
<a href="http://curl.haxx.se/">curl</a>, a web browser, or
<a href="https://www.getpostman.com/">Postman</a>.  In this example, I
am using
<a href="https://chrome.google.com/webstore/detail/dhc-resthttp-api-client/aejoelaoggembcahagimdiliamlcdmfm?hl=en">DHC by Restlet</a>.
It is available for free as a Chrome Extension.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/tools/dhc_client.png" alt="dhc client">
</div>
</div>
<div class="paragraph">
<p><code>POST</code> to <code>http://192.168.1.1/osc/commands/execute</code></p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/http_request.png" alt="http request">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="img/post.png" alt="post">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="img/start_session.png" alt="start session">
</div>
</div>
<div class="paragraph">
<p>Results:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
  "name": "camera.startSession",
  "state": "done",
  "results":{
    "sessionId": "SID_0001",
    "timeout": 180
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Send a <code>POST</code> command to <code>/osc/state</code>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
  "fingerprint": "FIG_0001",
  "state":{
    "sessionId": "SID_0000",
    "batteryLevel": 1,
    "storageChanged": false,
    "_captureStatus": "idle",
    "_recordedTime": 0,
    "_recordableTime": 0,
    "_latestFileUri": "",
    "_batteryState": "charged"
  }
}</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="icon-tip" title="Tip"></i>
</td>
<td class="content">
I have the camera plugged into a standalone charger capable supplying
1.5 amps.  The camera won&#8217;t charge when plugged into the USB port
of most computers.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Read the
<a href="https://developers.theta360.com/en/docs/v2/api_reference/">API Reference on the RICOH</a>
site.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_taking_pictures">Taking Pictures</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Start the session.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>192.168.1.1/osc/commands/execute</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{
  "name": "camera.startSession",
  "parameters": {}
}</pre>
</div>
</div>
<div class="paragraph">
<p>Grab the <code>sessionId</code> and take the picture.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
  "name": "camera.takePicture",
  "parameters": {
      "sessionId": "SID_0001"
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>The camera will beep.</p>
</div>
<div class="paragraph">
<p>At this point, you can grab the image with the API. However,
it will be a stream of base64 data.  To convert this into
a something like a jpg that can displayed on the screen, you&#8217;ll
need to get the stream, convert it, then display the image to your
screen and allow user interaction with the image.</p>
</div>
<div class="paragraph">
<p>To test whether you&#8217;ve saved the image and to get the great
satisfaction of seeing your image, you can also check out the
image with your phone using the THETA S app.</p>
</div>
<div class="paragraph">
<p>First disconnect your computer from the THETA S WiFi hotspot, then connect
the phone to the camera.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="icon-warning" title="Warning"></i>
</td>
<td class="content">
The THETA S can only connect to one wireless device at a time.
You can connect your laptop or your phone, but not both at the same
time.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="img/ricoh_theta_app.png" alt="ricoh theta app">
</div>
</div>
<div class="paragraph">
<p>Select <strong>Camera</strong>.</p>
</div>
<div class="paragraph">
<p>Select the thumbnail.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/select.png" alt="select">
</div>
</div>
<div class="paragraph">
<p>The image can be rotated.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/beach.png" alt="beach">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_workflow_using_a_http_browser_tool">Testing Workflow Using a HTTP Browser Tool</h2>
<div class="sectionbody">
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="icon-tip" title="Tip"></i>
</td>
<td class="content">
For quick testing, save the individual commands into your testing tool.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In this example, I&#8217;ve saved it into
<a href="http://restlet.com/products/dhc/">DHC by Restlet</a>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/tools/dhc_workflow.png" alt="dhc workflow">
</div>
</div>
<div class="paragraph">
<p>With this type of tool, you can quickly test indvidual commands and see the
results prior to running your program or test script.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
I have not been able to get a mock server running that supports the full
RICOH THETA API v2.  In my tests, I needed to connect to the actual device.  If you
build a functional mock server, send it to me. :-)
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_testing_theta_s_api_with_python">Testing THETA S API with Python</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/codetricity/theta-s-api-tests">Sample code</a>
is available on GitHub.</p>
</div>
<div class="paragraph">
<p>I am using the Python <a href="http://docs.python-requests.org/en/latest/"><code>requests</code></a>
library for <code>HTTP</code> requests.  While you can use
<a href="https://docs.python.org/2/howto/urllib2.html"><code>urllib2</code></a>,
<code>requests</code> is easier for mere mortals.  Although I&#8217;m doing the testing
on Windows 10, I am running the python scripts in a VirtualBox VM with default
<code>NAT</code> network settings. The Python program is able to connect from the VM through
the Windows 10 WiFi adapter and to the THETA S. I&#8217;m assuming that Python
will work fine on Windows 10, but it&#8217;s easier for me to use Linux.</p>
</div>
<div class="paragraph">
<p>To test with Python, I first started by simply writing out individual
commands in the script, similar to browser testing.  I then
moved the THETA API v2 commands into a library and wrote a command line
tool to accept arguments and test each command.</p>
</div>
<div class="paragraph">
<p>The first step to learn the API is to grab some basic information
from the camera and print it to your console.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>import requests, json, pprint</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>def request(url_request):
    url_base = "http://192.168.1.1/osc/"
    url = url_base + url_request
    return url</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>def basic_info():
    protocols = [
        "state",
        "info"
    ]
    for protocol in protocols:
        print(60 * "=")
        print(protocol + " - Testing RICOH THETA API v2\n")
        url = request(protocol)
        if protocol == "info":
            req = requests.get(url)
        else:
            req = requests.post(url)
        pprint.pprint(req.json())</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>def main():
  basic_info()</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>main()</pre>
</div>
</div>
<div class="paragraph">
<p>This is what I get:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ricoh@odapolis:~/Development/viewer$ python theta-python-test.py
============================================================
state - Testing RICOH THETA API v2</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{u'fingerprint': u'FIG_0002',
 u'state': {u'_batteryState': u'disconnect',
            u'_captureStatus': u'idle',
            u'_latestFileUri': u'',
            u'_recordableTime': 0,
            u'_recordedTime': 0,
            u'batteryLevel': 0.67,
            u'sessionId': u'SID_0028',
            u'storageChanged': False}}
============================================================
info - Testing RICOH THETA API v2</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{u'api': [u'/osc/info',
          u'/osc/state',
          u'/osc/checkForUpdates',
          u'/osc/commands/execute',
          u'/osc/commands/status'],
 u'endpoints': {u'httpPort': 80, u'httpUpdatesPort': 80},
 u'firmwareVersion': u'01.11',
 u'gps': False,
 u'gyro': False,
 u'manufacturer': u'RICOH',
 u'model': u'RICOH THETA S',
 u'serialNumber': u'00001221',
 u'supportUrl': u'https://theta360.com/en/support/',
 u'uptime': 3081}</pre>
</div>
</div>
<div class="paragraph">
<p>Now, we want to take a picture. We&#8217;ll take a still image in this example,
but it&#8217;s almost as easy to start a video capture and end it.</p>
</div>
<div class="paragraph">
<p>First you need to start a session and
grab the session ID (SID).</p>
</div>
<div class="literalblock">
<div class="content">
<pre>def startSession():
    url = request("commands/execute")
    body = json.dumps({"name": "camera.startSession",
         "parameters": {}
         })
    req = requests.post(url, data=body)
    response = req.json()
    print(60 * "=")
    print("startSession - Testing RICOH THETA API v2\n")
    pprint.pprint(response)
    sid = (response["results"]["sessionId"])
    print sid
    return sid</pre>
</div>
</div>
<div class="paragraph">
<p>At this point I still think it&#8217;s cool, to output the response to the console.
Also, it will give you a better idea of how to pull the <code>sessionId</code> or
<code>timeout</code> values into your program.  In the example above, I grab
the response from the request.  I then get the <code>results</code> key from the
dictionary.  The <code>results</code> value is another dictionary.  I use the
key <code>sessionId</code> to grab the value I need to take a picture.</p>
</div>
<div class="paragraph">
<p>My <code>main()</code> function now looks like this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>def main():
    basic_info()
    sid = startSession() #grab session ID</pre>
</div>
</div>
<div class="paragraph">
<p>The output of to the console looks like this:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>startSession - Testing RICOH THETA API v2</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{u'name': u'camera.startSession',
 u'results': {u'sessionId': u'SID_0029', u'timeout': 180},
 u'state': u'done'}
SID_0029</pre>
</div>
</div>
<div class="paragraph">
<p>Now, it&#8217;s the exciting part.  We can take the picture!</p>
</div>
<div class="literalblock">
<div class="content">
<pre>def takePicture(sid):
    url = request("commands/execute")
    body = json.dumps({"name": "camera.takePicture",
         "parameters": {
            "sessionId": sid
         }
         })
    req = requests.post(url, data=body)
    response = req.json()
    print(60 * "=")
    print("takePicture - Testing RICOH THETA API v2\n")
    pprint.pprint(response)</pre>
</div>
</div>
<div class="paragraph">
<p>Add the function to <code>main()</code>.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>def main():
    basic_info()
    sid = startSession() #grab session ID
    takePicture(sid) #still image</pre>
</div>
</div>
<div class="paragraph">
<p>Run it and celebrate!</p>
</div>
<div class="literalblock">
<div class="content">
<pre>============================================================
takePicture - Testing RICOH THETA API v2</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>{u'id': u'1',
 u'name': u'camera.takePicture',
 u'progress': {u'completion': 0.0},
 u'state': u'inProgress'}</pre>
</div>
</div>
<div class="paragraph">
<p>In the next few sections, I&#8217;ll show how easy it is to build
an interface to access the Python library we&#8217;re building.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_python_desktop_application_example">Python Desktop Application Example</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="img/desktop/desktop_app.png" alt="desktop app">
</div>
</div>
<div class="paragraph">
<p>This example uses the same Python code from the previous command line
example and runs it from a GUI.  The example uses <a href="http://www.pygame.org/download.shtml">Pygame</a>
due to the ease with which a GUI can be built. The application can
also be <a href="https://github.com/renpytom/rapt-pygame-example">modified to run on Android phones</a>.
The source code is available on <a href="https://github.com/codetricity/theta-s-api-tests">GitHub</a>.</p>
</div>
<div class="paragraph">
<p>Modify the code in the previous example to allow running as a library.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>if __name__ == '__main__':
    main()</pre>
</div>
</div>
<div class="paragraph">
<p>The previous code is called <code>thetaPythonTest.py</code> and is in the same directory
as my new program.  The full program has two graphics purely for decoration.
You don&#8217;t need those portions and can ignore them.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title="Important"></i>
</td>
<td class="content">
I&#8217;ve changed the library name to thetapylib.py, but I have not updated
the code example below.  Suggest you look at pyTHETA.py command line tool.
The older test library thetaPythonTest.py should still be there and work.
deskTHETA.py now has more examples to start and stop video capture.  I&#8217;ll
try and get some of the file listing and transfer commands working with the
GUI prior to the Hackathon, but we&#8217;re in crunch time.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_full_program">Full Program</h3>
<div class="literalblock">
<div class="content">
<pre>import pygame, sys
import requests
import json
from thetaPythonTest import startSession, takePicture</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>WHITE = (255,255,255)
GRAY = (230, 230, 230)
GREEN = (100, 200, 50)
DARK = (64, 64, 64)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>pygame.init()
SCREENSIZE = (800, 600)
SCREEN = pygame.display.set_mode(SCREENSIZE)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>button = pygame.Rect(100, 120, 140, 80)
font = pygame.font.Font("fnt/Lato-Thin.ttf", 20)
button_text = font.render("Take Picture", True, DARK)
text_box = (button.left + 15, button.top + 23)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>theta = pygame.image.load("img/ricoh-theta-s.png")
theta_rect = theta.get_rect()
theta_rect.right = SCREENSIZE[0] - 50
theta_rect.top = 60</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>developers_logo = pygame.image.load("img/theta_developers.png")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>while True:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            pygame.quit()
            sys.exit()
        if event.type == pygame.MOUSEBUTTONDOWN:
            mouse_pos = pygame.mouse.get_pos()
            if button.collidepoint(mouse_pos):
                sid = startSession()
                takePicture(sid)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>SCREEN.fill(WHITE)
pygame.draw.rect(SCREEN,GRAY, button)
pygame.draw.rect(SCREEN, DARK, button, 1)
SCREEN.blit(button_text, text_box)
SCREEN.blit(theta, theta_rect)
SCREEN.blit(developers_logo, (10, 10))</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>pygame.display.update()</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_code_walkthrough">Code Walkthrough</h3>
<div class="paragraph">
<p>Import the <code>pygame</code> and <code>sys</code> libraries and set up a blank window.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>import pygame, sys</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>pygame.init()
SCREENSIZE = (800, 600)
SCREEN = pygame.display.set_mode(SCREENSIZE)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>while True:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            pygame.quit()
            sys.exit()
    pygame.display.update()</pre>
</div>
</div>
<div class="paragraph">
<p>Load your fonts and colors above the main <code>while</code> loop.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>WHITE = (255,255,255)
GRAY = (230, 230, 230)
GREEN = (100, 200, 50)
DARK = (64, 64, 64)
font = pygame.font.Font("fnt/Lato-Thin.ttf", 20)</pre>
</div>
</div>
<div class="paragraph">
<p>Build the button to press to take a picture.  This code also goes above
the main <code>while</code> loop.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>button = pygame.Rect(100, 120, 140, 80)
button_text = font.render("Take Picture", True, DARK)
text_box = (button.left + 15, button.top + 23)</pre>
</div>
</div>
<div class="paragraph">
<p>Import your previous functions, close to the top of your program.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>from thetaPythonTest import startSession, takePicture</pre>
</div>
</div>
<div class="paragraph">
<p>Draw the button inside of the main <code>while</code> loop above the <code>display.update</code>
statement.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>SCREEN.fill(WHITE)
pygame.draw.rect(SCREEN,GRAY, button)
pygame.draw.rect(SCREEN, DARK, button, 1)
SCREEN.blit(button_text, text_box)</pre>
</div>
</div>
<div class="paragraph">
<p>In the event queue loop, check for a button press. If there is a button
press, then start a new camera session and take the picture. The button press is
detected by first checking for an event <code>MOUSEBUTTONDOWN</code>.  If the mouse or
touchscreen is down, then get the position of the mouse or finger. If the
point of the mouse is inside of the button, then take the picture.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>if event.type == pygame.MOUSEBUTTONDOWN:
    mouse_pos = pygame.mouse.get_pos()
    if button.collidepoint(mouse_pos):
        sid = startSession()
        takePicture(sid)</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_transferring_files_from_the_theta">Transferring Files from the THETA</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here&#8217;s an example of getting the file from the camera to a computer
or Android phone.  There&#8217;s easier ways to get the file from the camera,
but this method works with the <code>requests</code> library.</p>
</div>
<div class="paragraph">
<p>There are two main parts. First grab the latest file URI from the
camera.  The second part is to transfer the file over and save it to
<code>output.jpg</code></p>
</div>
<div class="paragraph">
<p>Set up the URL base.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>def request(url_request):
    url_base = "http://192.168.1.1/osc/"
    url = url_base + url_request
    return url</pre>
</div>
</div>
<div class="paragraph">
<p>Grab the state information from the camera.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>def state():
    url = request("state")
    req = requests.post(url)
    response = req.json()
    return response</pre>
</div>
</div>
<div class="paragraph">
<p>Assuming that you&#8217;ve just taken a picture, the camera will have the
attribute <code>_latestFileUri</code>.  If you haven&#8217;t taken a picture in
the session, take a picture now for this test.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>def latestFileUri():
    state_data = state()["state"]
    latestFileUri = state_data["_latestFileUri"]
    return latestFileUri</pre>
</div>
</div>
<div class="paragraph">
<p>Once you know the URI, you can grab the file and write it to
your local storage.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>def getImage(fileUri):
    url = request("commands/execute")
    body = json.dumps({"name": "camera.getImage",
         "parameters": {
            "fileUri": fileUri,
#            "_type": "thumb"
            "_type": "image"
         }
         })
    with open('output.jpg', 'wb') as handle:
        response = requests.post(url, data=body, stream=True)
        for block in response.iter_content(1024):
            handle.write(block)</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_live_streaming">Live Streaming</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Currently the S can stream only dual fisheye movie, not stitched movie.
In the future,
RICOH will provide real-time stitching software as an
USB driver for laptops and also API.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/video/thetas_livestreaming.jpg" alt="thetas livestreaming">
</div>
<div class="title">Figure 1. Set Live streaming video mode on RICOH THETA S</div>
</div>
<div class="sect2">
<h3 id="_for_usb">For USB</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Press mode button - keep pressing - and press power button &#8594; camera goes to the LiveVideoStreamig mode.</p>
</li>
<li>
<p>Connect a usb cable with S and laptop (MAC or PC).</p>
</li>
<li>
<p>The THETA S can be used as a web cam. You can use web cam software such as
Skype to see live video streaming with the THETA S.</p>
</li>
</ol>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/video/usb_live_streaming.png" alt="usb live streaming">
</div>
<div class="title">Figure 2. Live video streaming from RICOH THETA S to a computer monitor with USB 3</div>
</div>
</div>
<div class="sect2">
<h3 id="_for_hdmi">For HDMI</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Press mode button - keep pressing - and press power button &#8594; camera goes to LiveVideoStreamig mode.</p>
</li>
<li>
<p>connect a hdmi cable with S and a monitor.</p>
</li>
<li>
<p>S could be a output video device. The monitor shows the Ss live video streaming .</p>
</li>
</ol>
</div>
<div id="img-hdmi_live_streaming" class="imageblock thumb">
<div class="content">
<img src="img/video/hdmi_live_streaming.jpg" alt="hdmi live streaming">
</div>
<div class="title">Figure 3. Live video streaming from RICOH THETA S to a TV with HDMI</div>
</div>
</div>
<div class="sect2">
<h3 id="_api_testing">API Testing</h3>
<div class="paragraph">
<p><code>POST</code> to <code>http://192.168.1.1/osc/commands/execute</code></p>
</div>
<div class="literalblock">
<div class="content">
<pre>{"name": "camera.getOptions",
    "parameters":
    {
        "sessionId": "SID_0003",
        "optionNames": [
            "captureMode"
        ]
    }
}</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
Remember to set your sessionId correctly
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The response:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>{
  "name": "camera.getOptions",
  "state": "done",
  "results":{
    "options":{
      "iso": 0,
      "isoSupport":[],
      "captureMode": "_liveStreaming"
      }
    }
}</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_video_conversion_from_dual_fish_eye_to_equirectangular">Video Conversion From Dual Fish-Eye to Equirectangular</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At the Hackathon, the camera is pre-production and the software is
not finished.  Thank you for being a pioneer.</p>
</div>
<div class="paragraph">
<p>The video output is in dual fish-eye mode.  In order to view this or
upload it to YouTube, you&#8217;ll need to convert it to
equirectangular.  Sorry, but we do not have example code or a
public application to do this.  <code>:-(</code></p>
</div>
<div class="paragraph">
<p>The RICOH table will have an application called Dualfish Blender.  You
bring a thumbdrive over to get your video converted.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/video/convert_video_file.png" alt="convert video file">
</div>
</div>
<div class="paragraph">
<p>By default, the program will take your file name and add <code>_er</code> to it.
The file is saved in the same location that the original video file was in.</p>
</div>
<div class="paragraph">
<p>Both the input and output are <code>.mp4</code> format videos.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/video/dual_fish_eye.png" alt="dual fish eye">
</div>
<div class="title">Figure 4. dual fish eye video format</div>
</div>
<div class="paragraph">
<p>The Dualfish Blender program will convert it to equirectangular.</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/video/equirectangular_video.png" alt="equirectangular video">
</div>
<div class="title">Figure 5. equirectangular video format</div>
</div>
<div class="paragraph">
<p>You can now load the video up to YouTube to your normal channel.  YouTube
will grab the meta data and add the 360 degree video controls automatically.
This is cool!</p>
</div>
<div class="imageblock thumb">
<div class="content">
<img src="img/video/youtube_360.png" alt="youtube 360">
</div>
<div class="title">Figure 6. YouTube 360 video</div>
</div>
<div class="paragraph">
<p><a href="https://youtu.be/MXX_JjQdtmE">Try it out</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="icon-note" title="Note"></i>
</td>
<td class="content">
I&#8217;ve only tested the YouTube viewer on Windows, not on Linux.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_google_maps_street_view_constellations_photos">Google Maps, Street View, Constellations, Photos</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.google.com/intl/en_us/maps/streetview/">Google Street View</a></p>
</div>
<div class="paragraph">
<p>RICOH THETA supports
<a href="https://www.google.com/maps/about/contribute/photosphere/">Google Photo Sphere</a>
 XMP.
You can share and view your spherical images on Googles service
(Gallery, Google Maps, Views, Google+, Photos).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/google_diagram.png" alt="google diagram">
</div>
</div>
<div class="sect2">
<h3 id="_maps">Maps</h3>
<div class="paragraph">
<p>You can share the place you photographed with RICOH THETA
by posting your spherical images on Google Maps. You can post your
spherical images using your Android phone or on your
PC with the Google Maps Views website. Share your images with
the entire world!</p>
</div>
<div class="imageblock">
<div class="content">
<img src="img/google_img_02.jpg" alt="google img 02">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_constellations">Constellations</h3>
<div class="paragraph">
<p>You can create your own Street View using spherical images and share it with the world.
 Simply add some images to Views and, using your PCs web browser, link them together into a constellation. On Google Maps, spherical images will then be connected together just like in Street View.</p>
</div>
<div class="paragraph">
<p><a href="https://support.google.com/maps/answer/3481809?hl=en&amp;ref_topic=3189543">https://support.google.com/maps/answer/3481809?hl=en&amp;ref_topic=3189543</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_google_and_google_photos">Google+ and Google Photos</h3>
<div class="paragraph">
<p>You can share your spherical images with your friends by posting them to Google+.
 Spherical images posted to Google+ can be rotated and viewed using this app on an Android phone. Also, when you save your spherical images on your smart phone, they will be synced with Google Photos using Auto Backup, making it easy to see them on Google+.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resources">Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_api_documentation">API Documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://developers.theta360.com/en/docs/v2/api_reference/">RICOH THETA API version 2 reference documentation</a></p>
</li>
<li>
<p><a href="https://developers.google.com/streetview/open-spherical-camera/">Google Open Spherical Camera API</a> -
RICOH THETA S is OSC v1 compliant</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_phone_applications">Phone Applications</h3>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="icon-important" title="Important"></i>
</td>
<td class="content">
The THETA S requires a new app.  The older app will not work.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_official_ricoh_apps">Official RICOH Apps</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://play.google.com/store/apps/details?id=com.theta360">Android THETA S application</a></p>
</li>
<li>
<p><a href="https://itunes.apple.com/us/app/id1023254741">iOS</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_third_party_recommended_viewers">Third-Party Recommended Viewers</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://play.google.com/store/apps/details?id=jp.co.taosoftware.android.sphericalviewer&amp;hl=en">Tao360</a> for Android</p>
</li>
<li>
<p><a href="https://itunes.apple.com/us/app/kiroru-360/id954157416?mt=8">KIRORU 360 for iOS (not tested)</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_youtube_360_degree_videos">YouTube 360 degree Videos</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.youtube.com/360">#360Video on YouTube</a></p>
</li>
<li>
<p><a href="https://support.google.com/youtube/answer/6178631?hl=en">Upload 360 degree videos to YouTube</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_before_you_hack">Before You Hack</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>The camera should be plugged into a 1,500 mA power source.  I don&#8217;t think
it will charge from your laptop USB cable.  At least that was my experience.
If you have it plugged into your laptop, the WiFi, and thus the API access,
most likely won&#8217;t work.  I have used it plugged into a wall charger with the
WiFi working.</p>
</li>
<li>
<p>The THETA can connect to only one device at a time.  It can connect
to a phone or a computer, but not at the same time.  You can connect to
the THETA, but your team mate will not be able to connect to it at the same time.</p>
</li>
<li>
<p>There are multiple THETAs at the hackathon with similar SSID access point
serial numbers. Make sure you connect to the right THETA.  The access point
is the serial number.</p>
</li>
<li>
<p>By default, the WiFi password for the THETA S models at the hackathon
is the last eight digits of the serial number.  The serial number is in
the WiFi SSID as well as on the bottom of the camera.</p>
</li>
<li>
<p>You can&#8217;t change <code>captureMode</code> option to <code>_liveStreaming</code> with the API.
At least, no one has gotten it to work this way.  Live streaming
does work manually.  You can change capture mode to <code>image</code> or <code>_video</code> with
no problem.  The lack of <code>_liveStreaming</code> switching with the API is not obvious
from reading the API documentation.</p>
</li>
<li>
<p>Live streaming is only in dual fish-eye mode.  It can&#8217;t be switched to
output equirectangular video. If you need this, you will need to write your
own code to stitch it. (as of Sept 15, 2015)</p>
</li>
<li>
<p>Live streaming won&#8217;t work over WiFi.</p>
</li>
<li>
<p>We don&#8217;t have example code to de-fish the spherical image. Sorry, we ran
out of time.  :-(</p>
</li>
<li>
<p>The WiFi signal is not strong.  Test the distance and signal strength before
you build your app.  I suggest you test a file download at different distances
so you can get a sense for how the distance affects transfer speeds.</p>
</li>
<li>
<p>If you are using Google Maps APIs and want the end-user to use Streetview
to upload images, note that Streetview is a new app for
Android.  I think it needs Android KitKat or higher to work.
I have not tested it.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_thetapylib">thetapylib</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The sample Python library is included purely as an example of some of the
core commands that the THETA API v2 provides.  It is not intended for
use in applications.</p>
</div>
<div class="paragraph">
<p>Documentation is included below so that you can quickly get an overview
of using some of the
commands before you build your own library.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>thetapylib
/home/ricoh/Development/viewer/thetapylib.py</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Example library for RICOH THETA S hacking with Python.  The new
API is compliant with the Open Spherical Camera specification.
This is intended to show how the THETA S API works.  It is
not intended for use in your program.  There is no error
checking and this example library only handles a handful
of commands.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>There are three example programs that use this library.
At the top of your Python script, use</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>from thetalib import *</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>After you import the library, you can use the commands like this:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>state()</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>That will return the state of the camera, which is great to
get the sessionId.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>You can also get the sessionId when you start a new session:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>startSession()</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>In fact, the startSession() function will return the
sessionId.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Example use of the library with Pygame to detect the
button press.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>if event.type == pygame.MOUSEBUTTONDOWN:
    mouse_pos = pygame.mouse.get_pos()
    if pictureButton.collidepoint(mouse_pos):
        sid = startSession()
        takePicture(sid)
    if captureStartButton.collidepoint(mouse_pos):
        sid = startSession()
        startCapture(sid)
    if captureStopButton.collidepoint(mouse_pos):
        stopCapture(sid)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Example use of library from the command line:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>if sys.argv[1] == "startCapture":
    if len(sys.argv) &lt; 3:
        print("Usage: pyTHETA.py startCapture SID_000X")
        print("Use 'state' to get sessionId")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>    else:
        sid = sys.argv[2]
        response = startCapture(sid)
        pprint.pprint(response)
elif sys.argv[1] == "stopCapture":
    if len(sys.argv) &lt; 3:
        print("Usage: pyTHETA.py stopCapture SID_000X")
        print("Use 'state' to get sessionId")
    else:
        sid = sys.argv[2]
        response = stopCapture(sid)
        pprint.pprint(response)</pre>
</div>
</div>
<hr>
<div class="literalblock">
<div class="content">
<pre>Functions</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>getImage(fileUri, imageType='image')
    Transfer the file from the camera to computer and save the
    binary data to local storage.  This works, but is clunky.
    There are easier ways to do this. The __type parameter
    can be set to "thumb" for a thumbnail or "image" for the
    full-size image.  The default is "image".</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>info()
    Get basic information ont he camera.  Note that this is a GET call
    and not a POST.  Most of the calls are POST.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>latestFileUri()
    This will only work if you've just taken a picture.  The state
    will include the attribute latestFileUri.  You need this to
    transfer the file from the camera to your computer or phone.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>listAll(entryCount=3, detail=False, sortType='newest')
    entryCount:
            Integer     No. of still images and video files
                        to be acquired
    detail:
            Boolean     (Optional)  Whether or not file details are
                        acquired true is acquired by default.
                        Only values that can be acquired
                        when false is specified are "name", "uri",
                        "size" and "dateTime"
    sort:
            String      (Optional) Specify the sort order
                        newest (dateTime descending order)/ oldest
                        (dateTime ascending order)
                        Default is newest</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>request(url_request)
    Generate the URI to send to the THETA S.  The THETA IP address is
    192.168.1.1
    All calls start with /osc/</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>startCapture(sid)
    Begin video capture if the captureMode is _video.  If the
    captureMode is set to image, the camera will take multiple
    still images.  The captureMode can be set in the options.
    Note that this will not work with streaming video using the
    HDMI or USB cable.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>startSession()
    Start a new session.  Grab the sessionId number and
    return it.
    You'll need the sessionId to take a video or image.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>state()
    Get the state of the camera, which will include the sessionsId and also the
    latestFileUri if you've just taken a picture.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>stopCapture(sid)
    Stop video capture.  If in image mode, will stop
    automatic image taking.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>takePicture(sid)
    Take a still image.  The sessionId is either taken from
    startSession or from state.  You can change the mode
    from video to image with captureMode in the options.</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_next_steps">Next Steps</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By using a library I was able to quickly prototype applications
with a number of interfaces.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Python command line</strong>: this is the easiest to implement. It still
needs to handle errors.</p>
</li>
<li>
<p><strong>Pygame library</strong>: This is also quite easy to implement.  The most
time-consuming thing is making buttons.  It also has no error checking. <code>:-(</code>
Pygame is cross-platform on Windows, Mac, Linux, Android.  I have not
tested the code on Android and it will need minor modification.
I may have it by the time of the hackathon.</p>
</li>
<li>
<p><strong>Kivy Python library</strong>: This Python library runs on everything Pygame runs on
and runs on iOS.  It also has multi-touch and swipe support.</p>
</li>
<li>
<p><strong>Hardware remote</strong>: I was planning to use <a href="https://flirc.tv/">FLIRC</a> to send IR
commands to a Raspberry Pi for the demo.  It&#8217;s easy to do since the FLIRC
USB dongle simply translates keyboard commands.  It would be easy to
use Pygame to capture keyboard presses.  Unfortunately, I ran out of time.
Both Kivy and Pygame work with the Raspberry Pi.  I have not tested this yet.</p>
</li>
<li>
<p><strong>External sensors</strong>: By using a Raspberry Pi with external sensors, it would
be easy to trigger the camera to take pictures with some input, such as
a motion detector or movement.</p>
</li>
<li>
<p><strong>Javascript</strong>: I tried this for about 30 minutes using an jQuery.ajax
 and ran into a
permissions error. As I only had a few days,
I made the strategic decision to give up Javascript testing
and decided to prioritize Python testing first
to provide a quick overview of the API commands.  Hopefully, someone
will get Javascript to work and share it back.</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-09-17 08:13:27 PDT
</div>
</div>
</body>
</html>